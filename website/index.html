<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Homework 4</title>
    <link rel="stylesheet" href="main.css" />

</head>
<body onload='start()'>
<h2> User emails from XMLHttpRequest:</h2>
<p1 id='xmlResult'></p1>

<h2> User Usernames from fetch:</h2>
<p1 id='fetchResult'></p1>

  <script>
    function getJSONEmail(){
      fetch('https://jsonplaceholder.typicode.com/users')
        .then((res) => { return res.json() })
        .then((data) => { 
        let result = '';
        let emails = [];
        data.forEach((user) => {
          emails.push(user.email);
        });
        emails.sort();
        emails.forEach((email) => {
        	result += '<em>' + email + ', </em>';
          document.getElementById('xmlResult').innerHTML = result;
        });
      });         
    }
  
    function getJSONUsername(){
      fetch('https://jsonplaceholder.typicode.com/users')
        .then((res) => { return res.json() })
        .then((data) => { 
        let result = '';
        let userNames = [];
        data.forEach((user) => {
          userNames.push(user.username);
        });
        userNames.sort(function(a, b){
        	  return -b.length + a.length;
				});
        userNames.forEach((username) => {
        	result += '<em>' + username + ', </em>';
          document.getElementById('fetchResult').innerHTML = result;
        });
      });         
    }
    
 function start(){
    getJSONEmail();
    getJSONUsername();
}
    
    </script>

</body>
</html>
